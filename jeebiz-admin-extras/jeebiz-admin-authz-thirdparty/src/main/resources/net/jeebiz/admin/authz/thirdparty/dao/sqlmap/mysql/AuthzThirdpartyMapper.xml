<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.jeebiz.admin.authz.thirdparty.dao.IAuthzThirdpartyDao">
	
	<resultMap id="ThirdpartyMap" type="AuthzThirdpartyModel">
		<!-- 用户Id -->
		<result property="uid" column="u_id" />
		<!-- 用户名称 -->
		<result property="uname" column="u_name" />
		<!-- 第三方账号登录表id -->
		<result property="id" column="t_id" />
		<!-- 第三方账号类型：（qq：腾讯QQ，wx：微信） -->
		<result property="type" column="t_type" />
		<!-- 第三方平台Unionid（通常指第三方账号体系下用户的唯一id） -->
		<result property="unionid" column="t_unionid" />
		<!-- 第三方平台Openid（通常指第三方账号体系下某应用中用户的唯一id） -->
		<result property="openid" column="t_openid" />
		<!-- 当前认证对接平台开发者账号id（通常指与第三方平台进行认证对接的开发者账号的唯一id） -->
		<result property="devid" column="t_devid" />
		<!-- 第三方认证账号扩展信息 -->
		<result property="rawdata" column="t_rawdata" /> 
	</resultMap>
	
	<select id="getPagedList" resultMap="ThirdpartyMap" parameterType="AuthzThirdpartyModel" useCache="false">
		SELECT
			t.t_id,
			t.u_id,
			t2.u_nickname as u_name,
			t.t_type,
			t.t_unionid,
			t.t_openid,
			t.t_devid,
			t.t_rawdata,
			t.creator,
			t.create_time,
			t.modifyer,
			t.modify_time
		FROM ${table-prefix}authz_thirdparty t INNER JOIN sys_authz_user_profile t2 ON t.u_id = t2.u_id
	</select>

</mapper>