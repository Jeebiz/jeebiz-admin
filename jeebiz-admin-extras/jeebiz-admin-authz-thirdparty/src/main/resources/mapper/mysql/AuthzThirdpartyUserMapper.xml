<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.jeebiz.admin.authz.thirdparty.dao.AuthzThirdpartyUserMapper">

	<select id="getCountByName" resultType="java.lang.Long" parameterType="java.lang.String" useCache="false">
		SELECT count(t.u_id)
		  FROM sys_authz_user_account t
		 WHERE t.u_account = #{name}
		 <if test="origin != null and origin != ''">
			AND t.u_id != #{origin}
		 </if>
	</select>

	<select id="getCountByCode" resultType="java.lang.Long" parameterType="java.lang.String" useCache="false">
		SELECT count(t.u_id)
		  FROM sys_authz_user_account t
		 WHERE t.u_code = #{code}
		<if test="origin != null and origin != ''">
			AND t.u_id != #{origin}
		 </if>
	</select>

</mapper>
